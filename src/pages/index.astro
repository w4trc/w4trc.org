---
import Base from "@/layouts/Base.astro";
import HeroBanner from "@/components/HeroBanner.astro";
import WeatherWidget from "@/layouts/components/WeatherWidget.astro";

import NextMeeting from "@/components/NextMeeting.astro";

import Upcoming from "@/layouts/components/Upcoming.astro";
import { getCollection } from "astro:content";

// News (still included for future work)
//let newsPosts = [];
//try {
//  const blog = await getCollection("blog");
//  newsPosts = [...blog]
//    .sort((a, b) => +new Date(b.data.date) - +new Date(a.data.date))
//    .slice(0, 3);
//} catch {}
---

<Base>

  <HeroBanner />

  <!-- ================================= -->
  <!-- ABOUT THE CLUB -->
  <!-- ================================= -->
  <section>
  <div class="container max-w-[1400px] px-6 mx-auto grid gap-10 lg:grid-cols-2 items-center">

    <!-- Left column (copy) wrapped in card -->
    <div class="w4-card p-8">
      <h2 class="section-title">About the Club</h2>
      <p class="text-text-light mb-4">
        Kingsport Amateur Radio Club was affliated on 2 October 1947. The club was formed out of a desire of local veterans, who were amateur radio operators, to establish a organization where all were welcome to come, fellowship together and advance in the art of radio. 
      </p>
      <p class="text-text-muted">
        Today the club has over 70  members from all over the Tri-Cities area in Eastern Tennessee. The club is involved in many activities in the area and has regular events for Parks on the Air (POTA), Summits on the Air (SOTA), Fox Hunting, Winter and summer Field Days, CW and much more.
      </p>
    </div>

    <!-- Right column (image) wrapped in card for consistency -->
    <div class="w4-card p-4">
      <img 
        src="/images/fieldday2023.jpg"
        alt="Club Meeting"
        class="rounded-xl w-full object-cover"
      />
    </div>

  </div>
</section>


  <!-- ================================= -->
  <!-- NEXT MEETING -->
  <!-- ================================= -->
  <NextMeeting />

  <!-- ================================= -->
  <!-- UPCOMING EVENTS -->
  <!-- ================================= -->
  <Upcoming 
    limit={4}
    title="Upcoming Events"
    showCalendarCta={true}
    calendarHref="/calendar/"
  />

  <!-- ================================= -->
  <!-- WHAT WE DO (4 CARDS) -->
  <!-- ================================= -->
  <section>
    <div class="container max-w-[1400px] px-6 mx-auto">
      <h2 class="section-title">What We Do</h2>

      <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-4 mt-8">

        <!-- Meetings -->
        <div class="w4-card">
          <img src="/images/clubmeetings2025.jpg" class="rounded-xl mb-4 object-cover w-full h-40" alt="" />
          <h3 class="text-xl font-semibold text-white mb-1">Meetings</h3>
          <p class="text-sm text-text-muted">Monthly club gatherings and presentations.</p>
        </div>

        <!-- Nets -->
        <div class="w4-card">
          <img src="/images/ic-705.jpg" class="rounded-xl mb-4 object-cover w-full h-40" alt="" />
          <h3 class="text-xl font-semibold text-white mb-1">Nets</h3>
          <p class="text-sm text-text-muted">Weekly nets across our repeaters.</p>
        </div>

        <!-- Special Events -->
        <div class="w4-card">
          <img src="/images/activities/special-events/netherlandinn2025-01.jpeg" class="rounded-xl mb-4 object-cover w-full h-40" alt="" />
          <h3 class="text-xl font-semibold text-white mb-1">Special Events</h3>
          <p class="text-sm text-text-muted">Field Day, POTA, public service, and more.</p>
        </div>

        <!-- Activities -->
        <div class="w4-card">
          <img src="/images/ben-mullins-oXV3bzR7jxI-unsplash.jpg" class="rounded-xl mb-4 object-cover w-full h-40" alt="" />
          <h3 class="text-xl font-semibold text-white mb-1">Activities</h3>
          <p class="text-sm text-text-muted">Hands-on workshops, antenna builds, and testing sessions.</p>
        </div>

      </div>
    </div>
  </section>

  <!-- ================================= -->
  <!-- QUICK LINKS -->
  <!-- ================================= -->
  <section>
    <div class="container max-w-[1400px] px-6 mx-auto">
      <h2 class="section-title">Quick Links</h2>

      <div class="grid gap-6 md:grid-cols-2 xl:grid-cols-4 mt-6">

        <a class="quicklink-card" href="/repeaters/">
          <p class="text-lg font-semibold text-white">Club Repeaters</p>
          <p>Frequencies, tones, coverage notes.</p>
        </a>

        <a class="quicklink-card" href="/activities/nets/">
          <p class="text-lg font-semibold text-white">Weekly Nets</p>
          <p>Schedules and scripts.</p>
        </a>

        <a class="quicklink-card" href="/license/">
          <p class="text-lg font-semibold text-white">Get Licensed / Upgrade</p>
          <p>Study materials and test sessions.</p>
        </a>

        <a class="quicklink-card" href="/projects/">
          <p class="text-lg font-semibold text-white">Projects</p>
          <p>Club builds, antennas, mesh.</p>
        </a>

      </div>
    </div>
  </section>

  <!-- ================================= -->
  <!-- CONDITIONS -->
  <!-- ================================= -->
  <section>
    <div class="container max-w-[1400px] px-6 mx-auto">
      <h2 class="section-title">Conditions</h2>

      <div class="grid gap-8 lg:grid-cols-2 mt-6 items-start">

        <!-- Solar -->
        <div class="rounded-2xl bg-white/5 p-6 text-center w4-card">
          <a href="https://www.hamqsl.com/solar.html" class="inline-block">
            <img 
              src="https://www.hamqsl.com/solar101pic.php" 
              alt="Solar Data"
              class="mx-auto"
              loading="lazy"
            />
          </a>
          <p class="mt-4 text-sm text-text-light dark:text-darkmode-text-light">
            Solar Weather provided by <a href="https://www.hamqsl.com/solar.html" class="underline">N0NBH</a>.{" "}
            <a href="https://www.hamqsl.com/solar2.html#glossary" class="underline">What do these numbers mean?</a>
          </p>
        </div>

        <!-- Weather -->
        <div class="rounded-2xl bg-white/5 p-6 text-center w4-card">
          <WeatherWidget />
        </div>

      </div>
    </div>
  </section>

</Base>
